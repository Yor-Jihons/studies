# タスク管理

## ジョブ管理とタスク管理の違い

ジョブ: 人間から見た仕事のまとまり
タスク: **OSから見た仕事のまとまり**

## ジョブとジョブステップとタスクの関係性

ジョブは「入力値をもとに処理して結果を出力せよ」というブロック、  
**ジョブステップ**はそのジョブを処理ごとに分けて「入力値を読み込む」「入力値を解釈する」「入力値を処理する」「結果を出力する」というように分離したブロック、  
タスクはそのジョブステップを更に細分化してプログラミング言語で処理できるようにしたレベルのブロック。

## タスク管理

タスクの生成～消滅までを管理。

**実行可能状態**: CPUの使用権が割り当てられているのを待つ
**実行状態**: CPUの使用権が割り当てられ、実行している状態
**待ち状態**: 入出力要求などの処理の終了を待っている状態

## タスクの大まかな流れ

[通常の流れ]

```
1. タスクの生成
2. 実行可能状態になる
3. 実行状態へ遷移
4. タスクの消滅
```

2から3への処理を**ディスパッチ**という。

[他の優先順位の高いタスクが来た場合]

```
5. 実行状態から実行可能状態へ遷移
```

5の処理を**プリエンプション**という。

[入出力待ちが生じた場合]

```
6. 実行状態から待ち状態に遷移
7. 入出力処理が完了したら実行可能状態に遷移
```

## タスクスケジューリング

複数のタスクの中からどのタスクにCPUの使用権を割り当てるかという処理を**タスクスケジューリング**という。

### タスクスケジューリングの種類

- **到着順方式** (先頭から行う)
- **処理時間順方式** (処理時間が短い物から)
- **優先度順方式** (優先度の高いものから)
- **ラウンドロビン方式** (先頭からで、一定時間ごとに切り替え)

### 到着順方式

実行可能状態になったタスク順にCPUの使用権を割り当てる方式。
実行の途中で使用権が奪われることが無い。(これを**ノンプリエンプション**という。)

### 優先順方式(プライオリティ順方式)

タスクに優先順位を設定し、その優先順位が高いものから順に実行していく方式。
実行途中で使用権が奪われることがある。(これを**プリエンプション**という。)

### ラウンドロビン方式

CPUの使用権を**一定時間ごとに**切り替える方式。

## 参考文献

- [【過去問解説つき】ジョブ管理とタスク管理について学ぼう！【基本情報技術者試験】 - YouTube](https://www.youtube.com/watch?v=TbNapoek4vM)
- キタミ式 イラストIT塾 基本情報技術者試験
